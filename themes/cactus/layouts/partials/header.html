<header id="header">
    <a href="{{ .Site.BaseURL }}" id="logo-link">
    {{ if (isset .Site.Params "gravatar") }}
      <div id="logo" style="background-image: url(https://www.gravatar.com/avatar/{{ md5 .Site.Params.gravatar }}?s=100&d=identicon)"></div>
    {{ else if (isset .Site.Params "logo") }}
      <div id="logo" style="background-image: url({{ .Site.Params.logo | relURL }})"></div>
    {{ else }}
      <div id="logo" style="background-image: url({{ "images/logo.png" | relURL }})"></div>
    {{ end}}
  </a>
  <div id="nav">
    <a href="{{ .Site.BaseURL }}">
      <div id="title">
        <h1>{{ .Site.Title }}</h1>
      </div>
    </a>
    {{ $current := . }}
    <ul>
      <li class="icon">
        <a href="#" aria-label="Menu"><i class="fas fa-bars fa-2x" aria-hidden="true"></i></a>
      </li>
      {{ range .Site.Menus.main }}
        <li>
          <!-- src: https://discourse.gohugo.io/t/another-way-to-make-a-menu-item-active/17029 -->
          {{ $active := or ($current.IsMenuCurrent "nav" .) ($current.HasMenuCurrent "nav" .) }}
          {{ $active = or $active (eq .Name $current.Title) }}
          {{ $active = or $active (and (eq .Name "Writings") (eq $current.Section "posts")) }}
          {{ $active = or $active (and (eq .Name "Tags") (eq $current.Section "tags")) }}
          <a href="{{ .URL }}" {{ if $active }} class="active" {{ end }}>{{ .Name }}</a>
        </li>
      {{ end }}
    </ul>
  </div>
</header>

