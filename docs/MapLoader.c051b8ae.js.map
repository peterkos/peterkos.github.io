{"version":3,"sources":["node_modules/pagemap/dist/pagemap.js","MapLoader.js"],"names":["root","factory","exports","module","define","amd","self","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","global","canvas","options","WIN","width","height","root_rect","view_rect","scale","drag_rx","drag_ry","window","DOC","document","DOC_EL","documentElement","BODY","querySelector","CTX","getContext","black","pc","concat","settings","assign","viewport","styles","back","view","drag","interval","_listener","el","method","types","fn","split","forEach","type","on","off","Rect","x","y","w","h","rect_rel_to","rect","pos","arguments","length","undefined","el_get_offset","br","getBoundingClientRect","left","pageXOffset","top","pageYOffset","rect_of_viewport","_el_get_offset2","clientLeft","clientTop","clientWidth","clientHeight","calc_scale","Math","min","draw_rect","col","beginPath","fillStyle","fill","apply_styles","keys","sel","Array","from","querySelectorAll","find","_el_get_offset","offsetWidth","offsetHeight","rect_of_el","draw","_el_get_offset3","scrollLeft","scrollTop","scrollWidth","scrollHeight","style","setTransform","clearRect","on_drag","ev","preventDefault","cr","pageX","pageY","scrollTo","on_drag_end","cursor","on_drag_start","vr","setInterval","redraw","g","Function","e"],"mappings":"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","file":"MapLoader.c051b8ae.js","sourceRoot":"..","sourcesContent":["/*! pagemap v1.2.0 - https://larsjung.de/pagemap/ */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pagemap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pagemap\"] = factory();\n\telse\n\t\troot[\"pagemap\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {module.exports = function (canvas, options) {\n  var WIN = global.window;\n  var DOC = WIN.document;\n  var DOC_EL = DOC.documentElement;\n  var BODY = DOC.querySelector('body');\n  var CTX = canvas.getContext('2d');\n\n  var black = function black(pc) {\n    return \"rgba(0,0,0,\".concat(pc / 100, \")\");\n  };\n\n  var settings = Object.assign({\n    viewport: null,\n    styles: {\n      'header,footer,section,article': black(8),\n      'h1,a': black(10),\n      'h2,h3,h4': black(8)\n    },\n    back: black(2),\n    view: black(5),\n    drag: black(10),\n    interval: null\n  }, options);\n\n  var _listener = function _listener(el, method, types, fn) {\n    return types.split(/\\s+/).forEach(function (type) {\n      return el[method](type, fn);\n    });\n  };\n\n  var on = function on(el, types, fn) {\n    return _listener(el, 'addEventListener', types, fn);\n  };\n\n  var off = function off(el, types, fn) {\n    return _listener(el, 'removeEventListener', types, fn);\n  };\n\n  var Rect = function Rect(x, y, w, h) {\n    return {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    };\n  };\n\n  var rect_rel_to = function rect_rel_to(rect) {\n    var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      x: 0,\n      y: 0\n    };\n    return Rect(rect.x - pos.x, rect.y - pos.y, rect.w, rect.h);\n  };\n\n  var rect_of_doc = function rect_of_doc() {\n    return Rect(0, 0, DOC_EL.scrollWidth, DOC_EL.scrollHeight);\n  };\n\n  var rect_of_win = function rect_of_win() {\n    return Rect(WIN.pageXOffset, WIN.pageYOffset, DOC_EL.clientWidth, DOC_EL.clientHeight);\n  };\n\n  var el_get_offset = function el_get_offset(el) {\n    var br = el.getBoundingClientRect();\n    return {\n      x: br.left + WIN.pageXOffset,\n      y: br.top + WIN.pageYOffset\n    };\n  };\n\n  var rect_of_el = function rect_of_el(el) {\n    var _el_get_offset = el_get_offset(el),\n        x = _el_get_offset.x,\n        y = _el_get_offset.y;\n\n    return Rect(x, y, el.offsetWidth, el.offsetHeight);\n  };\n\n  var rect_of_viewport = function rect_of_viewport(el) {\n    var _el_get_offset2 = el_get_offset(el),\n        x = _el_get_offset2.x,\n        y = _el_get_offset2.y;\n\n    return Rect(x + el.clientLeft, y + el.clientTop, el.clientWidth, el.clientHeight);\n  };\n\n  var rect_of_content = function rect_of_content(el) {\n    var _el_get_offset3 = el_get_offset(el),\n        x = _el_get_offset3.x,\n        y = _el_get_offset3.y;\n\n    return Rect(x + el.clientLeft - el.scrollLeft, y + el.clientTop - el.scrollTop, el.scrollWidth, el.scrollHeight);\n  };\n\n  var calc_scale = function () {\n    var width = canvas.clientWidth;\n    var height = canvas.clientHeight;\n    return function (w, h) {\n      return Math.min(width / w, height / h);\n    };\n  }();\n\n  var resize_canvas = function resize_canvas(w, h) {\n    canvas.width = w;\n    canvas.height = h;\n    canvas.style.width = \"\".concat(w, \"px\");\n    canvas.style.height = \"\".concat(h, \"px\");\n  };\n\n  var viewport = settings.viewport;\n\n  var find = function find(sel) {\n    return Array.from((viewport || DOC).querySelectorAll(sel));\n  };\n\n  var drag = false;\n  var root_rect;\n  var view_rect;\n  var scale;\n  var drag_rx;\n  var drag_ry;\n\n  var draw_rect = function draw_rect(rect, col) {\n    if (col) {\n      CTX.beginPath();\n      CTX.rect(rect.x, rect.y, rect.w, rect.h);\n      CTX.fillStyle = col;\n      CTX.fill();\n    }\n  };\n\n  var apply_styles = function apply_styles(styles) {\n    Object.keys(styles).forEach(function (sel) {\n      var col = styles[sel];\n      find(sel).forEach(function (el) {\n        draw_rect(rect_rel_to(rect_of_el(el), root_rect), col);\n      });\n    });\n  };\n\n  var draw = function draw() {\n    root_rect = viewport ? rect_of_content(viewport) : rect_of_doc();\n    view_rect = viewport ? rect_of_viewport(viewport) : rect_of_win();\n    scale = calc_scale(root_rect.w, root_rect.h);\n    resize_canvas(root_rect.w * scale, root_rect.h * scale);\n    CTX.setTransform(1, 0, 0, 1, 0, 0);\n    CTX.clearRect(0, 0, canvas.width, canvas.height);\n    CTX.scale(scale, scale);\n    draw_rect(rect_rel_to(root_rect, root_rect), settings.back);\n    apply_styles(settings.styles);\n    draw_rect(rect_rel_to(view_rect, root_rect), drag ? settings.drag : settings.view);\n  };\n\n  var on_drag = function on_drag(ev) {\n    ev.preventDefault();\n    var cr = rect_of_viewport(canvas);\n    var x = (ev.pageX - cr.x) / scale - view_rect.w * drag_rx;\n    var y = (ev.pageY - cr.y) / scale - view_rect.h * drag_ry;\n\n    if (viewport) {\n      viewport.scrollLeft = x;\n      viewport.scrollTop = y;\n    } else {\n      WIN.scrollTo(x, y);\n    }\n\n    draw();\n  };\n\n  var on_drag_end = function on_drag_end(ev) {\n    drag = false;\n    canvas.style.cursor = 'pointer';\n    BODY.style.cursor = 'auto';\n    off(WIN, 'mousemove', on_drag);\n    off(WIN, 'mouseup', on_drag_end);\n    on_drag(ev);\n  };\n\n  var on_drag_start = function on_drag_start(ev) {\n    drag = true;\n    var cr = rect_of_viewport(canvas);\n    var vr = rect_rel_to(view_rect, root_rect);\n    drag_rx = ((ev.pageX - cr.x) / scale - vr.x) / vr.w;\n    drag_ry = ((ev.pageY - cr.y) / scale - vr.y) / vr.h;\n\n    if (drag_rx < 0 || drag_rx > 1 || drag_ry < 0 || drag_ry > 1) {\n      drag_rx = 0.5;\n      drag_ry = 0.5;\n    }\n\n    canvas.style.cursor = 'crosshair';\n    BODY.style.cursor = 'crosshair';\n    on(WIN, 'mousemove', on_drag);\n    on(WIN, 'mouseup', on_drag_end);\n    on_drag(ev);\n  };\n\n  var init = function init() {\n    canvas.style.cursor = 'pointer';\n    on(canvas, 'mousedown', on_drag_start);\n    on(viewport || WIN, 'load resize scroll', draw);\n\n    if (settings.interval > 0) {\n      setInterval(function () {\n        return draw();\n      }, settings.interval);\n    }\n\n    draw();\n  };\n\n  init();\n  return {\n    redraw: draw\n  };\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ })\n/******/ ]);\n});","import pagemap from './node_modules/pagemap'\n\npagemap(document.querySelector('#map'), {\n    viewport: null,\n    styles: {\n        'header,footer,section,article': \"rgba(0,0,0,0.08)\",\n        'h1,a, p, iframe': \"rgba(0,0,0,0.10)\",\n        'h2,h3,h4': \"rgba(0,0,0,0.08)\"\n    },\n    back: \"rgba(0,0,0,0.02)\",\n    view: \"rgba(0,0,0,0.05)\",\n    drag: \"rgba(0,0,0,0.10)\",\n    interval: null\n});"]}